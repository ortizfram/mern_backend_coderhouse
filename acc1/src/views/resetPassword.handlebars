 <h1>Restaurar Contraseña</h1>
  <label for="email">Correo Electrónico:</label>
  <input type="email" id="email" name="email" /><br /><br />
  <label for="password">Nueva contraseña:</label>
  <input type="password" id="password" name="password" /><br /><br />

  <p style="color: red;" id="errorMessage"></p>

  <button onclick="submitForm()">Enviar</button>

  <a href="/api/sessions/login">Volver a ingresar</a>

  <script>
    function submitForm() { 
      const email = document.getElementById("email").value; 
      const password = document.getElementById("password").value; 
      fetch("/api/sessions/reset_password", {
        method: "POST",
        headers: { "Content-Type": "application/json" }, 
        body: JSON.stringify({ email, password }),
      })
      .then((response) => {
        if (!response.ok) {
          return response.json().then((error) => { throw new Error(error.errorMessage); });
        }
        return response.json();
      })
      .then((data) => {
        if (data.message) {
          console.log("Changed password - now go login");
          window.location.href = "/api/sessions/login";
        } else {
          document.getElementById("errorMessage").innerText = data.errorMessage || "Error al cambiar la contraseña";
        }
      })
      .catch((error) => {
        console.error("Error:", error);
        document.getElementById("errorMessage").innerText = error.message || "Error al cambiar la contraseña";
      }); 
    }
  </script>